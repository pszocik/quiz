{"version":3,"sources":["components/Header/Header.js","components/Button/Button.js","components/Question/Question.js","helpers/helpers.js","components/Game/GameHelpers.js","components/Game/Game.js","components/Backdrop/Backdrop.js","components/Modal/Modal.js","components/Auth/Auth.js","App.js","index.js"],"names":["Header","className","Button","onClick","children","Question","question","handleGoodAnswer","handleBadAnswer","AnimatePresence","initial","exitBeforeEnter","motion","div","opacity","animate","exit","all_answers","map","answer","ev","validateAnswer","uuid","uuidv4","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","joinAnswers","questionData","cleanAnswers","answers","shuffleAnswers","sort","Math","random","appendUUIDToAnswers","el","Game","handleWinModalShow","handleLoseModalShow","useState","loadQuestions","setLoadQuestions","questions","setQuestions","points","setPoints","handleSetPoints","value","handleSetQuestions","data","handleDontLoadQuestions","useEffect","axios","get","then","response","results","forEach","correct_answer","functions","argument","reduce","arg","fn","pipe","catch","error","console","log","length","updatedQuestions","pop","Backdrop","dropIn","hidden","y","visible","transition","duration","type","damping","stiffness","Modal","handleClose","text","e","stopPropagation","variants","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","provider","GoogleAuthProvider","SignIn","signInWithPopup","SignOut","currentUser","signOut","App","document","title","showLoseModal","setShowLoseModal","showWinModal","setShowWinModal","useAuthState","user","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.efd767bf.chunk.js","sourcesContent":["import \"./Header.css\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <h1>Quiz app</h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import \"./Button.css\";\n\nconst Button = ({ onClick, children }) => {\n  return (\n    <button className=\"game-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import Button from \"../Button/Button.js\";\r\nimport \"./Question.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\n\r\nconst Question = ({ question, handleGoodAnswer, handleBadAnswer }) => {\r\n  const validateAnswer = (ev, answer) =>\r\n    answer === question[\"correct_answer\"]\r\n      ? handleGoodAnswer(ev)\r\n      : handleBadAnswer();\r\n\r\n  return (\r\n    <AnimatePresence initial={true} exitBeforeEnter={true}>\r\n      <motion.div\r\n        className=\"question\"\r\n        key={uuidv4()}\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        exit={{ opacity: 0 }}\r\n      >\r\n        <p>{question.question}</p>\r\n        {question.all_answers.map((answer) => {\r\n          return (\r\n            <Button\r\n              onClick={(ev) => validateAnswer(ev, answer.answer)}\r\n              key={answer.uuid}\r\n            >\r\n              {answer.answer}\r\n            </Button>\r\n          );\r\n        })}\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default Question;\r\n","const htmlDecode = (input) => {\r\n  const doc = new DOMParser().parseFromString(input, \"text/html\");\r\n  return doc.documentElement.textContent;\r\n};\r\n\r\nconst pipe =\r\n  (...functions) =>\r\n  (argument) =>\r\n    functions.reduce((arg, fn) => fn(arg), argument);\r\n\r\nexport { htmlDecode, pipe };\r\n","import { htmlDecode } from \"../../helpers/helpers\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst joinAnswers = (questionData) => [\r\n  ...questionData[\"incorrect_answers\"],\r\n  questionData[\"correct_answer\"],\r\n];\r\n\r\nconst cleanAnswers = (answers) => answers.map((answer) => htmlDecode(answer));\r\n\r\nconst shuffleAnswers = (answers) =>\r\n  // bad example of random sorting but it's enough for this app\r\n  [...answers].sort(() => 0.5 - Math.random());\r\n\r\nconst appendUUIDToAnswers = (answers) =>\r\n  answers.map((el) => ({ uuid: uuidv4(), answer: el }));\r\n\r\nexport { joinAnswers, cleanAnswers, shuffleAnswers, appendUUIDToAnswers };\r\n","import { useState, useEffect } from \"react\";\r\nimport Question from \"../Question/Question.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport { htmlDecode, pipe } from \"../../helpers/helpers.js\";\r\nimport {\r\n  joinAnswers,\r\n  cleanAnswers,\r\n  shuffleAnswers,\r\n  appendUUIDToAnswers,\r\n} from \"./GameHelpers.js\";\r\nimport \"./Game.css\";\r\nimport axios from \"axios\";\r\n\r\nconst Game = ({ handleWinModalShow, handleLoseModalShow }) => {\r\n  const [loadQuestions, setLoadQuestions] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [points, setPoints] = useState(0);\r\n\r\n  const handleSetPoints = (value) => setPoints(value);\r\n  const handleSetQuestions = (data) => setQuestions(data);\r\n  const handleLoadQuestions = () => setLoadQuestions(true);\r\n  const handleDontLoadQuestions = () => setLoadQuestions(false);\r\n\r\n  useEffect(() => {\r\n    if (loadQuestions === true) {\r\n      axios\r\n        .get(\"https://opentdb.com/api.php?amount=10\")\r\n        .then((response) => {\r\n          const questionData = response.data.results;\r\n          questionData.forEach((question) => {\r\n            question.question = htmlDecode(question.question);\r\n            question.correct_answer = htmlDecode(question.correct_answer);\r\n            question.all_answers = pipe(\r\n              joinAnswers,\r\n              cleanAnswers,\r\n              shuffleAnswers,\r\n              appendUUIDToAnswers\r\n            )(question);\r\n          });\r\n          handleSetQuestions(questionData);\r\n          handleDontLoadQuestions();\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [loadQuestions]);\r\n\r\n  useEffect(() => {\r\n    if (points === 10) {\r\n      handleSetPoints(0);\r\n      handleWinModalShow();\r\n    }\r\n  }, [points, handleWinModalShow]);\r\n\r\n  const handleGoodAnswer = (ev) => {\r\n    const updatedQuestions = [...questions];\r\n    updatedQuestions.pop();\r\n    handleSetQuestions(updatedQuestions);\r\n    handleSetPoints(points + 1);\r\n  };\r\n\r\n  const handleBadAnswer = () => {\r\n    handleLoseModalShow();\r\n    handleSetPoints(0);\r\n    handleSetQuestions([]);\r\n    handleDontLoadQuestions();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {questions.length ? (\r\n        <div>\r\n          <h4 className=\"game-points\">Points: {points}</h4>\r\n          <Question\r\n            key={questions.data}\r\n            question={questions[questions.length - 1]}\r\n            handleGoodAnswer={handleGoodAnswer}\r\n            handleBadAnswer={handleBadAnswer}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <Button onClick={() => handleLoadQuestions()}>Start game</Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import { motion } from \"framer-motion\";\r\nimport \"./Backdrop.css\";\r\n\r\nconst Backdrop = ({ children, onClick }) => {\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={onClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","import { motion } from \"framer-motion\";\r\nimport Backdrop from \"../Backdrop/Backdrop.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport \"./Modal.css\";\r\n\r\nconst dropIn = {\r\n  hidden: { y: \"-100vh\", opacity: 0 },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1,\r\n    transition: {\r\n      duration: 0.5,\r\n      type: \"string\",\r\n      damping: 25,\r\n      stiffness: 500,\r\n    },\r\n  },\r\n  exit: { y: \"100vh\", opacity: 0 },\r\n};\r\n\r\nconst Modal = ({ handleClose, text }) => {\r\n  return (\r\n    <Backdrop onClick={handleClose}>\r\n      <motion.div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"modal orange-gradient\"\r\n        variants={dropIn}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        exit=\"exit\"\r\n      >\r\n        <p>{text}</p>\r\n        <Button onClick={handleClose}>Close</Button>\r\n      </motion.div>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport Button from \"../Button/Button\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst provider = new firebase.auth.GoogleAuthProvider();\n\nconst SignIn = () => {\n  const signInWithGoogle = () => {\n    auth.signInWithPopup(provider);\n  };\n  return <Button onClick={signInWithGoogle}>Sign In with Google</Button>;\n};\n\nconst SignOut = () => {\n  return (\n    auth.currentUser && <Button onClick={() => auth.signOut()}>Sign Out</Button>\n  );\n};\nexport { SignIn, SignOut, auth };\n","import { useState } from \"react\";\nimport \"./App.css\";\nimport Header from \"./components/Header/Header.js\";\nimport Game from \"./components/Game/Game.js\";\nimport Modal from \"./components/Modal/Modal.js\";\nimport { SignIn, auth, SignOut } from \"./components/Auth/Auth.js\";\nimport { AnimatePresence } from \"framer-motion\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nconst App = () => {\n  document.title = \"Quiz | pszocik.github.io\";\n  const [showLoseModal, setShowLoseModal] = useState(false);\n  const [showWinModal, setShowWinModal] = useState(false);\n  const [user] = useAuthState(auth);\n\n  const handleWinModalClose = () => setShowWinModal(false);\n  const handleLoseModalClose = () => setShowLoseModal(false);\n  const handleWinModalShow = () => setShowWinModal(true);\n  const handleLoseModalShow = () => setShowLoseModal(true);\n\n  return (\n    <div className=\"App\">\n      <Header />\n      {user && <SignOut />}\n      {user ? (\n        <div>\n          <Game\n            handleWinModalShow={handleWinModalShow}\n            handleLoseModalShow={handleLoseModalShow}\n          />\n        </div>\n      ) : (\n        <SignIn />\n      )}\n\n      <AnimatePresence initial={false} exitBeforeEnter={true}>\n        {showLoseModal && (\n          <Modal handleClose={handleLoseModalClose} text={\"You lost!\"} />\n        )}\n        {showWinModal && (\n          <Modal\n            handleClose={handleWinModalClose}\n            text={\"Congratulations! You won!\"}\n          />\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}