{"version":3,"sources":["components/Header/Header.js","components/Button/Button.js","components/FadeInWrapper/FadeInWrapper.js","components/Question/Question.js","helpers/helpers.js","components/Game/helpers.js","components/MenuButton/MenuButton.js","components/Firebase/config.js","components/Firebase/firestore.js","components/Firebase/Auth.js","components/Firebase/context.js","components/ProgressBar/ProgressBar.js","components/Game/Game.js","components/Backdrop/Backdrop.js","components/Modal/Modal.js","components/Highscores/Highscores.js","components/Menu/Menu.js","App.js","index.js"],"names":["Header","className","Button","onClick","children","FadeInWrapper","motion","section","initial","opacity","animate","exit","transition","duration","Question","question","handleGoodAnswer","handleBadAnswer","AnimatePresence","exitBeforeEnter","all_answers","map","answer","ev","validateAnswer","uuid","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","modifyQuestionAnswers","functions","argument","reduce","acc","fn","pipe","questionData","answers","sort","Math","random","el","uuidv4","MenuButton","to","FirebaseApp","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","createDocument","uid","highscoresRef","doc","setDoc","scores","then","console","log","catch","err","getScores","a","docRef","getDoc","docSnap","exists","data","provider","GoogleAuthProvider","auth","getAuth","SignIn","signInWithPopup","error","SignOut","currentUser","signOut","FirebaseAuthContext","createContext","undefined","FirebaseAuthProvider","useState","user","setUser","value","useEffect","onAuthStateChanged","Provider","getFirebaseAuthUser","context","useContext","Error","ProgressBar","completed","fillerDynamicStyles","width","style","Game","handleModalShow","loadQuestions","setLoadQuestions","questions","setQuestions","points","setPoints","handleSetPoints","handleSetQuestions","axios","get","response","results","forEach","correct_answer","length","updatedQuestions","pop","score","userScoresRef","today","Date","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","updateDoc","arrayUnion","updateScores","Backdrop","div","dropIn","hidden","y","visible","type","damping","stiffness","Modal","handleClose","text","e","stopPropagation","variants","Highscores","setScores","slice","reverse","toString","Menu","App","document","title","show","modal","setModal","location","useLocation","pathname","exact","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.938aec72.chunk.js","sourcesContent":["import \"./Header.css\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <h1>Quiz app</h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import \"./Button.css\";\n\nconst Button = ({ onClick, children }) => {\n  return (\n    <button className=\"game-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { motion } from \"framer-motion\";\n\nconst FadeInWrapper = ({ children, className }) => {\n  return (\n    <motion.section\n      className={className}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      {children}\n    </motion.section>\n  );\n};\n\nexport default FadeInWrapper;\n","import Button from \"../Button/Button.js\";\r\nimport \"./Question.css\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport FadeInWrapper from \"../FadeInWrapper/FadeInWrapper\";\r\n\r\nconst Question = ({ question, handleGoodAnswer, handleBadAnswer }) => {\r\n  const validateAnswer = (ev, answer) =>\r\n    answer === question[\"correct_answer\"]\r\n      ? handleGoodAnswer(ev)\r\n      : handleBadAnswer();\r\n\r\n  return (\r\n    <AnimatePresence exitBeforeEnter>\r\n      <FadeInWrapper className=\"question\" key={question.uuid}>\r\n        <p>{question.question}</p>\r\n        {question.all_answers.map((answer) => {\r\n          return (\r\n            <Button\r\n              onClick={(ev) => validateAnswer(ev, answer.answer)}\r\n              key={answer.uuid}\r\n            >\r\n              {answer.answer}\r\n            </Button>\r\n          );\r\n        })}\r\n      </FadeInWrapper>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default Question;\r\n","const htmlDecode = (input) => {\r\n  const doc = new DOMParser().parseFromString(input, \"text/html\");\r\n  return doc.documentElement.textContent;\r\n};\r\n\r\nconst pipe =\r\n  (...functions) =>\r\n  (argument) =>\r\n    functions.reduce((acc, fn) => fn(acc), argument);\r\n\r\nexport { htmlDecode, pipe };\r\n","import { htmlDecode, pipe } from \"../../helpers/helpers\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst joinAnswers = (questionData) => [\n  ...questionData[\"incorrect_answers\"],\n  questionData[\"correct_answer\"],\n];\n\nconst cleanAnswers = (answers) => answers.map((answer) => htmlDecode(answer));\n\nconst shuffleAnswers = (answers) =>\n  // bad example of random sorting but it's enough for this app\n  [...answers].sort(() => 0.5 - Math.random());\n\nconst appendUUIDToAnswers = (answers) =>\n  answers.map((el) => ({ uuid: uuidv4(), answer: el }));\n\nconst modifyQuestionAnswers = pipe(\n  joinAnswers,\n  cleanAnswers,\n  shuffleAnswers,\n  appendUUIDToAnswers\n);\n\nexport { modifyQuestionAnswers };\n","import Button from \"../Button/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst MenuButton = () => {\n  return (\n    <Link to=\"/quiz\" className=\"link\">\n      <Button>Menu</Button>\n    </Link>\n  );\n};\n\nexport default MenuButton;\n","import { initializeApp } from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst FirebaseApp = initializeApp(firebaseConfig);\r\n\r\nexport default FirebaseApp;\r\n","import FirebaseApp from \"./config.js\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { doc, setDoc, getDoc, updateDoc, arrayUnion } from \"firebase/firestore\";\r\n\r\nconst db = getFirestore(FirebaseApp);\r\n\r\nconst createDocument = (uid) => {\r\n  const highscoresRef = doc(db, \"highscores\", uid);\r\n  setDoc(highscoresRef, {\r\n    scores: [],\r\n  })\r\n    .then(() => console.log(\"Document created successfully.\"))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst updateScores = (uid, score) => {\r\n  const userScoresRef = doc(db, \"highscores\", uid);\r\n  const today = new Date();\r\n  const date =\r\n    today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n  const time = today.getHours() + \":\" + today.getMinutes();\r\n  updateDoc(userScoresRef, {\r\n    scores: arrayUnion(`${date} ${time} Points: ${score}`),\r\n  })\r\n    .then(() => console.log(\"Highscores updated successfully!\"))\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\nconst getScores = async (uid) => {\r\n  const docRef = doc(db, \"highscores\", uid);\r\n  let docSnap = await getDoc(docRef);\r\n  if (docSnap.exists() !== true) {\r\n    await createDocument(uid);\r\n    docSnap = await getDoc(docRef);\r\n  }\r\n  return docSnap.data();\r\n};\r\n\r\nexport { getScores, createDocument, updateScores, db };\r\n","import FirebaseApp from \"./config\";\r\nimport Button from \"../Button/Button\";\r\nimport {\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  signOut,\r\n  getAuth,\r\n} from \"firebase/auth\";\r\n\r\nconst provider = new GoogleAuthProvider();\r\nconst auth = getAuth();\r\n\r\nconst SignIn = () => {\r\n  const signInWithGoogle = () => {\r\n    signInWithPopup(auth, provider).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  return <Button onClick={signInWithGoogle}>Sign In with Google</Button>;\r\n};\r\n\r\nconst SignOut = () => {\r\n  const handleSignOut = () => {\r\n    signOut(auth)\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  return auth.currentUser && <Button onClick={handleSignOut}>Sign Out</Button>;\r\n};\r\nexport { auth, SignIn, SignOut };\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"./Auth\";\r\nconst FirebaseAuthContext = createContext(undefined);\r\n\r\nconst FirebaseAuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const value = { user };\r\n\r\n  useEffect(() => {\r\n    return auth.onAuthStateChanged(setUser);\r\n  }, []);\r\n\r\n  return (\r\n    <FirebaseAuthContext.Provider value={value}>\r\n      {children}\r\n    </FirebaseAuthContext.Provider>\r\n  );\r\n};\r\n\r\nconst getFirebaseAuthUser = () => {\r\n  const context = useContext(FirebaseAuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\r\n      \"useFirebaseAuth must be used within a FirebaseAuthProvider\"\r\n    );\r\n  }\r\n  return context.user;\r\n};\r\n\r\nexport { FirebaseAuthProvider, getFirebaseAuthUser };\r\n","import \"./ProgressBar.css\";\r\n\r\nconst ProgressBar = ({ completed }) => {\r\n  const fillerDynamicStyles = {\r\n    width: `${completed}%`,\r\n  };\r\n\r\n  return (\r\n    <div className=\"progress-bar__container\">\r\n      <div style={fillerDynamicStyles} className=\"progress-bar__filler\">\r\n        <span className=\"progress-bar__label\">{`${completed}%`}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;\r\n","import { useState, useEffect } from \"react\";\r\nimport Question from \"../Question/Question.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport { htmlDecode, pipe } from \"../../helpers/helpers.js\";\r\nimport {\r\n  joinAnswers,\r\n  cleanAnswers,\r\n  shuffleAnswers,\r\n  appendUUIDToAnswers,\r\n  modifyQuestionAnswers,\r\n} from \"./helpers.js\";\r\nimport \"./Game.css\";\r\nimport axios from \"axios\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Link } from \"react-router-dom\";\r\nimport MenuButton from \"../MenuButton/MenuButton.js\";\r\nimport { getScores, updateScores } from \"../Firebase/firestore.js\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context.js\";\r\nimport ProgressBar from \"../ProgressBar/ProgressBar.js\";\r\nimport FadeInWrapper from \"../FadeInWrapper/FadeInWrapper\";\r\n\r\nconst Game = ({ handleModalShow }) => {\r\n  const [loadQuestions, setLoadQuestions] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [points, setPoints] = useState(0);\r\n  const user = getFirebaseAuthUser();\r\n\r\n  const handleSetPoints = (value) => setPoints(value);\r\n  const handleSetQuestions = (data) => setQuestions(data);\r\n  const handleLoadQuestions = () => setLoadQuestions(true);\r\n  const handleDontLoadQuestions = () => setLoadQuestions(false);\r\n\r\n  useEffect(() => {\r\n    if (loadQuestions === false) return;\r\n    axios\r\n      .get(\"https://opentdb.com/api.php?amount=20\")\r\n      .then((response) => {\r\n        const questionData = response.data.results;\r\n        questionData.forEach((question) => {\r\n          question.uuid = uuidv4();\r\n          question.question = htmlDecode(question.question);\r\n          question.correct_answer = htmlDecode(question.correct_answer);\r\n          question.all_answers = modifyQuestionAnswers(question);\r\n        });\r\n        handleSetQuestions(questionData);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, [loadQuestions]);\r\n\r\n  useEffect(() => {\r\n    if (points < 20) return;\r\n    handleSetPoints(0);\r\n    handleModalShow(\"You won!\");\r\n  }, [points, handleModalShow]);\r\n\r\n  const handleGoodAnswer = (ev) => {\r\n    const updatedQuestions = [...questions];\r\n    updatedQuestions.pop();\r\n    handleSetQuestions(updatedQuestions);\r\n    handleSetPoints(points + 1);\r\n  };\r\n\r\n  const handleBadAnswer = () => {\r\n    handleModalShow(\"You lost!\");\r\n    user &&\r\n      getScores(user.uid).then((data) => {\r\n        updateScores(user.uid, points);\r\n      });\r\n    handleSetPoints(0);\r\n    handleSetQuestions([]);\r\n    handleDontLoadQuestions();\r\n  };\r\n\r\n  return (\r\n    <FadeInWrapper>\r\n      {questions.length ? (\r\n        <div className=\"game-flex\">\r\n          <Question\r\n            question={questions[questions.length - 1]}\r\n            handleGoodAnswer={handleGoodAnswer}\r\n            handleBadAnswer={handleBadAnswer}\r\n          />\r\n          <ProgressBar completed={points * 5} />\r\n        </div>\r\n      ) : (\r\n        <Button onClick={() => handleLoadQuestions()}>New game</Button>\r\n      )}\r\n    </FadeInWrapper>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import { motion } from \"framer-motion\";\r\nimport \"./Backdrop.css\";\r\n\r\nconst Backdrop = ({ children, onClick }) => {\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={onClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","import { motion } from \"framer-motion\";\r\nimport Backdrop from \"../Backdrop/Backdrop.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport \"./Modal.css\";\r\n\r\nconst dropIn = {\r\n  hidden: { y: \"-100vh\", opacity: 0 },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1,\r\n    transition: {\r\n      duration: 0.5,\r\n      type: \"string\",\r\n      damping: 25,\r\n      stiffness: 500,\r\n    },\r\n  },\r\n  exit: { y: \"100vh\", opacity: 0 },\r\n};\r\n\r\nconst Modal = ({ handleClose, text }) => {\r\n  return (\r\n    <Backdrop onClick={handleClose}>\r\n      <motion.div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"modal purple-gradient\"\r\n        variants={dropIn}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        exit=\"exit\"\r\n      >\r\n        <p>{text}</p>\r\n        <Button onClick={handleClose}>Close</Button>\r\n      </motion.div>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import \"./Highscores.css\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getScores } from \"../Firebase/firestore\";\r\nimport FadeInWrapper from \"../FadeInWrapper/FadeInWrapper\";\r\n\r\nconst Highscores = () => {\r\n  const user = getFirebaseAuthUser();\r\n  const [scores, setScores] = useState([]);\r\n  useEffect(() => {\r\n    getScores(user.uid).then((data) => {\r\n      setScores(data.scores.slice(-5).reverse());\r\n    });\r\n  }, []);\r\n  return (\r\n    <FadeInWrapper className={\"highscores\"}>\r\n      <h2>Highscores</h2>\r\n      {scores.map((score) => {\r\n        return <p key={score.toString()}>{score}</p>;\r\n      })}\r\n    </FadeInWrapper>\r\n  );\r\n};\r\n\r\nexport default Highscores;\r\n","import { SignIn, SignOut } from \"../Firebase/Auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../Button/Button\";\r\nimport \"./Menu.css\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context\";\r\nimport FadeInWrapper from \"../FadeInWrapper/FadeInWrapper\";\r\n\r\nconst Menu = () => {\r\n  const user = getFirebaseAuthUser();\r\n  return (\r\n    <FadeInWrapper className={\"menu\"}>\r\n      {user ? <SignOut /> : <SignIn />}\r\n      <Link to=\"/quiz/game\" className=\"link\">\r\n        <Button>Game</Button>\r\n      </Link>\r\n      {user && (\r\n        <Link to=\"/quiz/highscores\" className=\"link\">\r\n          <Button>Highscores</Button>\r\n        </Link>\r\n      )}\r\n    </FadeInWrapper>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import { useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header/Header.js\";\r\nimport Game from \"./components/Game/Game.js\";\r\nimport Modal from \"./components/Modal/Modal.js\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport { Navigate, Route, Routes, useLocation } from \"react-router-dom\";\r\nimport Highscores from \"./components/Highscores/Highscores\";\r\nimport Menu from \"./components/Menu/Menu\";\r\nimport FadeInWrapper from \"./components/FadeInWrapper/FadeInWrapper\";\r\nimport { getFirebaseAuthUser } from \"./components/Firebase/context\";\r\nimport MenuButton from \"./components/MenuButton/MenuButton\";\r\n\r\nconst App = () => {\r\n  document.title = \"Quiz | pszocik.github.io\";\r\n  const user = getFirebaseAuthUser();\r\n  const [modal, setModal] = useState({ show: false, text: \"\" });\r\n  let location = useLocation();\r\n\r\n  const handleModalClose = () => setModal({ show: false, text: \"\" });\r\n  const handleModalShow = (text) => setModal({ show: true, text: text });\r\n\r\n  return (\r\n    <main className=\"App\">\r\n      <Header />\r\n      {location.pathname !== \"/quiz/\" && location.pathname !== \"/quiz\" && (\r\n        <FadeInWrapper>\r\n          <MenuButton />\r\n        </FadeInWrapper>\r\n      )}\r\n      <Routes>\r\n        <Route exact path=\"/quiz/\" element={<Menu />} />\r\n        <Route\r\n          path=\"/quiz/game\"\r\n          element={<Game handleModalShow={handleModalShow} />}\r\n        />\r\n        <Route\r\n          path=\"/quiz/highscores\"\r\n          element={<div>{user ? <Highscores /> : <Navigate to=\"/\" />}</div>}\r\n        />\r\n      </Routes>\r\n      <AnimatePresence initial={false} exitBeforeEnter={true}>\r\n        {modal.show && (\r\n          <Modal handleClose={handleModalClose} text={modal.text} />\r\n        )}\r\n      </AnimatePresence>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { FirebaseAuthProvider } from \"./components/Firebase/context\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <FirebaseAuthProvider>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n      ,\r\n    </FirebaseAuthProvider>\r\n    ,\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}