{"version":3,"sources":["components/Header/Header.js","components/Button/Button.js","components/Question/Question.js","utils/utils.js","components/Game/GameUtils.js","components/Game/Game.js","components/Backdrop/Backdrop.js","components/Modal/Modal.js","components/Auth/Auth.js","App.js","index.js"],"names":["Header","className","Button","onClick","children","Question","question","handleGoodAnswer","handleBadAnswer","all_answers","map","answer","ev","validateAnswer","uuid","uuidv4","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","joinAnswers","questionData","cleanAnswers","answers","shuffleAnswers","sort","Math","random","appendUUIDToAnswers","el","Game","handleWinModalShow","handleLoseModalShow","useState","loadQuestions","setLoadQuestions","questions","setQuestions","points","setPoints","handleSetPoints","value","handleSetQuestions","data","handleDontLoadQuestion","useEffect","fetch","then","response","json","results","forEach","correct_answer","functions","argument","reduce","arg","fn","pipe","length","updatedQuestions","pop","Backdrop","motion","div","initial","opacity","animate","exit","dropIn","hidden","y","visible","transition","duration","type","damping","stiffness","Modal","handleClose","text","e","stopPropagation","variants","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","provider","GoogleAuthProvider","SignIn","signInWithPopup","SignOut","currentUser","signOut","App","document","title","showLoseModal","setShowLoseModal","showWinModal","setShowWinModal","useAuthState","user","AnimatePresence","exitBeforeEnter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3808e095.chunk.js","sourcesContent":["import \"./Header.css\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <h1>Quiz app</h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import \"./Button.css\";\n\nconst Button = ({ onClick, children }) => {\n  return (\n    <button className=\"game-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import Button from \"../Button/Button.js\";\nimport \"./Question.css\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst Question = ({ question, handleGoodAnswer, handleBadAnswer }) => {\n  const validateAnswer = (ev, answer) => {\n    if (answer === question[\"correct_answer\"]) {\n      handleGoodAnswer(ev);\n    } else {\n      handleBadAnswer();\n    }\n  };\n\n  return (\n    <div key={uuidv4()} className=\"question slide-in-left\">\n      <p>{question.question}</p>\n      {question.all_answers.map((answer) => {\n        return (\n          <Button\n            onClick={(ev) => validateAnswer(ev, answer.answer)}\n            key={answer.uuid}\n          >\n            {answer.answer}\n          </Button>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Question;\n","const htmlDecode = (input) => {\n  const doc = new DOMParser().parseFromString(input, \"text/html\");\n  return doc.documentElement.textContent;\n};\n\nconst pipe =\n  (...functions) =>\n  (argument) =>\n    functions.reduce((arg, fn) => fn(arg), argument);\n\nexport { htmlDecode, pipe };\n","import { htmlDecode } from \"../../utils/utils\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst joinAnswers = (questionData) => [\n  ...questionData[\"incorrect_answers\"],\n  questionData[\"correct_answer\"],\n];\n\nconst cleanAnswers = (answers) => answers.map((answer) => htmlDecode(answer));\n\nconst shuffleAnswers = (answers) =>\n  // bad example of random sorting but it's enough for this app\n  [...answers].sort(() => 0.5 - Math.random());\n\nconst appendUUIDToAnswers = (answers) =>\n  answers.map((el) => ({ uuid: uuidv4(), answer: el }));\n\nexport { joinAnswers, cleanAnswers, shuffleAnswers, appendUUIDToAnswers };\n","import { useState, useEffect } from \"react\";\r\nimport Question from \"../Question/Question.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport { htmlDecode, pipe } from \"../../utils/utils.js\";\r\nimport {\r\n  joinAnswers,\r\n  cleanAnswers,\r\n  shuffleAnswers,\r\n  appendUUIDToAnswers,\r\n} from \"./GameUtils.js\";\r\nimport \"./Game.css\";\r\n\r\nconst Game = ({ handleWinModalShow, handleLoseModalShow }) => {\r\n  const [loadQuestions, setLoadQuestions] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [points, setPoints] = useState(0);\r\n\r\n  const handleSetPoints = (value) => setPoints(value);\r\n  const handleSetQuestions = (data) => setQuestions(data);\r\n  const handleLoadQuestion = () => setLoadQuestions(true);\r\n  const handleDontLoadQuestion = () => setLoadQuestions(false);\r\n\r\n  useEffect(() => {\r\n    if (loadQuestions === true) {\r\n      fetch(\"https://opentdb.com/api.php?amount=10\")\r\n        .then((response) => response.json())\r\n        .then((json) => {\r\n          const questionData = json.results;\r\n          questionData.forEach((question) => {\r\n            question.question = htmlDecode(question.question);\r\n            question.correct_answer = htmlDecode(question.correct_answer);\r\n            question.all_answers = pipe(\r\n              joinAnswers,\r\n              cleanAnswers,\r\n              shuffleAnswers,\r\n              appendUUIDToAnswers\r\n            )(question);\r\n          });\r\n          handleSetQuestions(questionData);\r\n          handleDontLoadQuestion();\r\n        });\r\n    }\r\n  }, [loadQuestions]);\r\n\r\n  useEffect(() => {\r\n    if (points === 10) {\r\n      handleSetPoints(0);\r\n      handleWinModalShow();\r\n    }\r\n  }, [points, handleWinModalShow]);\r\n\r\n  const handleGoodAnswer = (ev) => {\r\n    const updatedQuestions = [...questions];\r\n    updatedQuestions.pop();\r\n    handleSetQuestions(updatedQuestions);\r\n    handleSetPoints(points + 1);\r\n  };\r\n\r\n  const handleBadAnswer = () => {\r\n    handleLoseModalShow();\r\n    handleSetPoints(0);\r\n    handleSetQuestions([]);\r\n    handleDontLoadQuestion();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {questions.length ? (\r\n        <div>\r\n          <h4 className=\"game-points\">Points: {points}</h4>\r\n          <Question\r\n            key={questions.data}\r\n            question={questions[questions.length - 1]}\r\n            handleGoodAnswer={handleGoodAnswer}\r\n            handleBadAnswer={handleBadAnswer}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <Button onClick={() => handleLoadQuestion()}>Start game</Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import { motion } from \"framer-motion\";\r\nimport \"./Backdrop.css\";\r\n\r\nconst Backdrop = ({ children, onClick }) => {\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={onClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","import { motion } from \"framer-motion\";\r\nimport Backdrop from \"../Backdrop/Backdrop.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport \"./Modal.css\";\r\n\r\nconst dropIn = {\r\n  hidden: { y: \"-100vh\", opacity: 0 },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1,\r\n    transition: {\r\n      duration: 0.5,\r\n      type: \"string\",\r\n      damping: 25,\r\n      stiffness: 500,\r\n    },\r\n  },\r\n  exit: { y: \"100vh\", opacity: 0 },\r\n};\r\n\r\nconst Modal = ({ handleClose, text }) => {\r\n  return (\r\n    <Backdrop onClick={handleClose}>\r\n      <motion.div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"modal orange-gradient\"\r\n        variants={dropIn}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        exit=\"exit\"\r\n      >\r\n        <p>{text}</p>\r\n        <Button onClick={handleClose}>Close</Button>\r\n      </motion.div>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport Button from \"../Button/Button\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nconst SignIn = () => {\r\n  const signInWithGoogle = () => {\r\n    auth.signInWithPopup(provider);\r\n  };\r\n  return <Button onClick={signInWithGoogle}>Sign In with Google</Button>;\r\n};\r\n\r\nconst SignOut = () => {\r\n  return (\r\n    auth.currentUser && <Button onClick={() => auth.signOut()}>Sign Out</Button>\r\n  );\r\n};\r\nexport { SignIn, SignOut, auth };\r\n","import { useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header/Header.js\";\r\nimport Game from \"./components/Game/Game.js\";\r\nimport Modal from \"./components/Modal/Modal.js\";\r\nimport { SignIn, auth, SignOut } from \"./components/Auth/Auth.js\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\n\r\nconst App = () => {\r\n  document.title = \"Quiz | pszocik.github.io\";\r\n  const [showLoseModal, setShowLoseModal] = useState(false);\r\n  const [showWinModal, setShowWinModal] = useState(false);\r\n  const [user] = useAuthState(auth);\r\n\r\n  const handleWinModalClose = () => setShowWinModal(false);\r\n  const handleLoseModalClose = () => setShowLoseModal(false);\r\n  const handleWinModalShow = () => setShowWinModal(true);\r\n  const handleLoseModalShow = () => setShowLoseModal(true);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header />\r\n      {user && <SignOut />}\r\n      {user ? (\r\n        <div>\r\n          <Game\r\n            handleWinModalShow={handleWinModalShow}\r\n            handleLoseModalShow={handleLoseModalShow}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <SignIn />\r\n      )}\r\n\r\n      <AnimatePresence initial={false} exitBeforeEnter={true}>\r\n        {showLoseModal && (\r\n          <Modal handleClose={handleLoseModalClose} text={\"You lost!\"} />\r\n        )}\r\n        {showWinModal && (\r\n          <Modal\r\n            handleClose={handleWinModalClose}\r\n            text={\"Congratulations! You won!\"}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}