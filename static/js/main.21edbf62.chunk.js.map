{"version":3,"sources":["components/Header/Header.js","components/Button/Button.js","components/FadeInWrapper.js","components/Question/Question.js","helpers/helpers.js","components/Game/helpers.js","components/HomeButton/HomeButton.js","components/Firebase/config.js","components/Firebase/firestore.js","components/Firebase/Auth.js","components/Firebase/context.js","components/Game/Game.js","components/Backdrop/Backdrop.js","components/Modal/Modal.js","components/Highscores/Highscores.js","components/Menu/Menu.js","App.js","index.js"],"names":["Header","className","Button","onClick","children","FadeInWrapper","motion","section","initial","opacity","animate","exit","uuidv4","Question","question","handleGoodAnswer","handleBadAnswer","AnimatePresence","exitBeforeEnter","all_answers","map","answer","ev","validateAnswer","uuid","htmlDecode","input","DOMParser","parseFromString","documentElement","textContent","joinAnswers","questionData","cleanAnswers","answers","shuffleAnswers","sort","Math","random","appendUUIDToAnswers","el","HomeButton","to","FirebaseApp","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","createDocument","email","setDoc","doc","scores","updateScores","score","a","userScoresRef","today","Date","date","getFullYear","getMonth","getDate","time","getHours","getMinutes","updateDoc","arrayUnion","getScores","docRef","getDoc","docSnap","exists","data","provider","GoogleAuthProvider","auth","getAuth","SignIn","signInWithPopup","catch","error","console","log","SignOut","currentUser","signOut","then","FirebaseAuthContext","createContext","undefined","FirebaseAuthProvider","useState","user","setUser","value","useEffect","onAuthStateChanged","Provider","getFirebaseAuthUser","context","useContext","Error","Game","handleWinModalShow","handleLoseModalShow","loadQuestions","setLoadQuestions","questions","setQuestions","points","setPoints","handleSetPoints","handleSetQuestions","axios","get","response","results","forEach","correct_answer","functions","argument","reduce","acc","fn","pipe","length","updatedQuestions","pop","Backdrop","div","dropIn","hidden","y","visible","transition","duration","type","damping","stiffness","Modal","handleClose","text","e","stopPropagation","variants","style","backgroundColor","Highscores","setScores","slice","reverse","Menu","App","document","title","showLoseModal","setShowLoseModal","showWinModal","setShowWinModal","exact","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.21edbf62.chunk.js","sourcesContent":["import \"./Header.css\";\n\nconst Header = () => {\n  return (\n    <header className=\"header\">\n      <h1>Quiz app</h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import \"./Button.css\";\n\nconst Button = ({ onClick, children }) => {\n  return (\n    <button className=\"game-button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { motion } from \"framer-motion\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst FadeInWrapper = ({ children, className }) => {\r\n  return (\r\n    <motion.section\r\n      className={className}\r\n      key={uuidv4()}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.section>\r\n  );\r\n};\r\n\r\nexport default FadeInWrapper;\r\n","import Button from \"../Button/Button.js\";\r\nimport \"./Question.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport FadeInWrapper from \"../FadeInWrapper\";\r\n\r\nconst Question = ({ question, handleGoodAnswer, handleBadAnswer }) => {\r\n  const validateAnswer = (ev, answer) =>\r\n    answer === question[\"correct_answer\"]\r\n      ? handleGoodAnswer(ev)\r\n      : handleBadAnswer();\r\n\r\n  return (\r\n    <AnimatePresence initial={true} exitBeforeEnter={true}>\r\n      <FadeInWrapper className=\"question\">\r\n        <p>{question.question}</p>\r\n        {question.all_answers.map((answer) => {\r\n          return (\r\n            <Button\r\n              onClick={(ev) => validateAnswer(ev, answer.answer)}\r\n              key={answer.uuid}\r\n            >\r\n              {answer.answer}\r\n            </Button>\r\n          );\r\n        })}\r\n      </FadeInWrapper>\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\nexport default Question;\r\n","const htmlDecode = (input) => {\r\n  const doc = new DOMParser().parseFromString(input, \"text/html\");\r\n  return doc.documentElement.textContent;\r\n};\r\n\r\nconst pipe =\r\n  (...functions) =>\r\n  (argument) =>\r\n    functions.reduce((acc, fn) => fn(acc), argument);\r\n\r\nexport { htmlDecode, pipe };\r\n","import { htmlDecode } from \"../../helpers/helpers\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nconst joinAnswers = (questionData) => [\r\n  ...questionData[\"incorrect_answers\"],\r\n  questionData[\"correct_answer\"],\r\n];\r\n\r\nconst cleanAnswers = (answers) => answers.map((answer) => htmlDecode(answer));\r\n\r\nconst shuffleAnswers = (answers) =>\r\n  // bad example of random sorting but it's enough for this app\r\n  [...answers].sort(() => 0.5 - Math.random());\r\n\r\nconst appendUUIDToAnswers = (answers) =>\r\n  answers.map((el) => ({ uuid: uuidv4(), answer: el }));\r\n\r\nexport { joinAnswers, cleanAnswers, shuffleAnswers, appendUUIDToAnswers };\r\n","import Button from \"../Button/Button\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst HomeButton = () => {\r\n  return (\r\n    <Link to=\"/\" className=\"link\">\r\n      <Button>Menu</Button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default HomeButton;\r\n","import { initializeApp } from \"firebase/app\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\nconst FirebaseApp = initializeApp(firebaseConfig);\r\n\r\nexport default FirebaseApp;\r\n","import FirebaseApp from \"./config\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { doc, setDoc, getDoc, updateDoc, arrayUnion } from \"firebase/firestore\";\r\n\r\nconst db = getFirestore(FirebaseApp);\r\n\r\nconst createDocument = (email) => {\r\n  return setDoc(doc(db, \"highscores\", email), {\r\n    scores: [],\r\n  });\r\n};\r\n\r\nconst updateScores = async (email, score) => {\r\n  const userScoresRef = doc(db, \"highscores\", email);\r\n  const today = new Date();\r\n  const date =\r\n    today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\r\n  const time = today.getHours() + \":\" + today.getMinutes();\r\n  await updateDoc(userScoresRef, {\r\n    scores: arrayUnion(`${date} ${time} Points: ${score}`),\r\n  });\r\n};\r\n\r\nconst getScores = async (email) => {\r\n  const docRef = doc(db, \"highscores\", email);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    return docSnap.data();\r\n  } else {\r\n    await createDocument(email);\r\n    await getDoc(docRef);\r\n    return docSnap.data();\r\n  }\r\n};\r\n\r\nexport { getScores, createDocument, updateScores, db };\r\n","import FirebaseApp from \"./config\";\r\nimport Button from \"../Button/Button\";\r\nimport {\r\n  signInWithPopup,\r\n  GoogleAuthProvider,\r\n  signOut,\r\n  getAuth,\r\n} from \"firebase/auth\";\r\n\r\nconst provider = new GoogleAuthProvider();\r\nconst auth = getAuth();\r\n\r\nconst SignIn = () => {\r\n  const signInWithGoogle = () => {\r\n    signInWithPopup(auth, provider).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  };\r\n\r\n  return <Button onClick={signInWithGoogle}>Sign In with Google</Button>;\r\n};\r\n\r\nconst SignOut = () => {\r\n  const handleSignOut = () => {\r\n    signOut(auth)\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n  return auth.currentUser && <Button onClick={handleSignOut}>Sign Out</Button>;\r\n};\r\nexport { auth, SignIn, SignOut };\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { auth } from \"./Auth\";\r\nconst FirebaseAuthContext = createContext(undefined);\r\n\r\nconst FirebaseAuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const value = { user };\r\n\r\n  useEffect(() => {\r\n    return auth.onAuthStateChanged(setUser);\r\n  }, []);\r\n\r\n  return (\r\n    <FirebaseAuthContext.Provider value={value}>\r\n      {children}\r\n    </FirebaseAuthContext.Provider>\r\n  );\r\n};\r\n\r\nconst getFirebaseAuthUser = () => {\r\n  const context = useContext(FirebaseAuthContext);\r\n  if (context === undefined) {\r\n    throw new Error(\r\n      \"useFirebaseAuth must be used within a FirebaseAuthProvider\"\r\n    );\r\n  }\r\n  return context.user;\r\n};\r\n\r\nexport { FirebaseAuthProvider, getFirebaseAuthUser };\r\n","import { useState, useEffect } from \"react\";\r\nimport Question from \"../Question/Question.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport { htmlDecode, pipe } from \"../../helpers/helpers.js\";\r\nimport {\r\n  joinAnswers,\r\n  cleanAnswers,\r\n  shuffleAnswers,\r\n  appendUUIDToAnswers,\r\n} from \"./helpers.js\";\r\nimport \"./Game.css\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport HomeButton from \"../HomeButton/HomeButton\";\r\nimport { getScores, updateScores } from \"../Firebase/firestore\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context\";\r\n\r\nconst Game = ({ handleWinModalShow, handleLoseModalShow }) => {\r\n  const [loadQuestions, setLoadQuestions] = useState(false);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [points, setPoints] = useState(0);\r\n  const user = getFirebaseAuthUser();\r\n\r\n  const handleSetPoints = (value) => setPoints(value);\r\n  const handleSetQuestions = (data) => setQuestions(data);\r\n  const handleLoadQuestions = () => setLoadQuestions(true);\r\n  const handleDontLoadQuestions = () => setLoadQuestions(false);\r\n\r\n  useEffect(() => {\r\n    if (loadQuestions === true) {\r\n      axios\r\n        .get(\"https://opentdb.com/api.php?amount=20\")\r\n        .then((response) => {\r\n          const questionData = response.data.results;\r\n          questionData.forEach((question) => {\r\n            question.question = htmlDecode(question.question);\r\n            question.correct_answer = htmlDecode(question.correct_answer);\r\n            question.all_answers = pipe(\r\n              joinAnswers,\r\n              cleanAnswers,\r\n              shuffleAnswers,\r\n              appendUUIDToAnswers\r\n            )(question);\r\n          });\r\n          handleSetQuestions(questionData);\r\n        })\r\n        .catch((error) => console.log(error));\r\n    }\r\n  }, [loadQuestions]);\r\n\r\n  useEffect(() => {\r\n    if (points === 20) {\r\n      handleSetPoints(0);\r\n      handleWinModalShow();\r\n    }\r\n  }, [points, handleWinModalShow]);\r\n\r\n  const handleGoodAnswer = (ev) => {\r\n    const updatedQuestions = [...questions];\r\n    updatedQuestions.pop();\r\n    handleSetQuestions(updatedQuestions);\r\n    handleSetPoints(points + 1);\r\n  };\r\n\r\n  const handleBadAnswer = () => {\r\n    handleLoseModalShow();\r\n    getScores(user.email).then((data) => {\r\n      updateScores(user.email, points);\r\n    });\r\n    handleSetPoints(0);\r\n    handleSetQuestions([]);\r\n    handleDontLoadQuestions();\r\n  };\r\n\r\n  return (\r\n    <section className=\"game\">\r\n      <HomeButton />\r\n      {questions.length ? (\r\n        <div>\r\n          <h4 className=\"game-points\">Points: {points}</h4>\r\n          <Question\r\n            question={questions[questions.length - 1]}\r\n            handleGoodAnswer={handleGoodAnswer}\r\n            handleBadAnswer={handleBadAnswer}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <Button onClick={() => handleLoadQuestions()}>New game</Button>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Game;\r\n","import { motion } from \"framer-motion\";\r\nimport \"./Backdrop.css\";\r\n\r\nconst Backdrop = ({ children, onClick }) => {\r\n  return (\r\n    <motion.div\r\n      className=\"backdrop\"\r\n      onClick={onClick}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      exit={{ opacity: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","import { motion } from \"framer-motion\";\r\nimport Backdrop from \"../Backdrop/Backdrop.js\";\r\nimport Button from \"../Button/Button.js\";\r\nimport \"./Modal.css\";\r\n\r\nconst dropIn = {\r\n  hidden: { y: \"-100vh\", opacity: 0 },\r\n  visible: {\r\n    y: 0,\r\n    opacity: 1,\r\n    transition: {\r\n      duration: 0.5,\r\n      type: \"string\",\r\n      damping: 25,\r\n      stiffness: 500,\r\n    },\r\n  },\r\n  exit: { y: \"100vh\", opacity: 0 },\r\n};\r\n\r\nconst Modal = ({ handleClose, text }) => {\r\n  return (\r\n    <Backdrop onClick={handleClose}>\r\n      <motion.div\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"modal orange-gradient\"\r\n        variants={dropIn}\r\n        initial=\"hidden\"\r\n        animate=\"visible\"\r\n        exit=\"exit\"\r\n      >\r\n        <p>{text}</p>\r\n        <Button\r\n          style={{ backgroundColor: \"red !important\" }}\r\n          onClick={handleClose}\r\n        >\r\n          Close\r\n        </Button>\r\n      </motion.div>\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import HomeButton from \"../HomeButton/HomeButton\";\r\nimport \"./Highscores.css\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getScores } from \"../Firebase/firestore\";\r\n\r\nconst Highscores = () => {\r\n  const user = getFirebaseAuthUser();\r\n  const [scores, setScores] = useState([]);\r\n  useEffect(() => {\r\n    getScores(user.email).then((data) =>\r\n      setScores(data.scores.slice(-5).reverse())\r\n    );\r\n  }, []);\r\n  return (\r\n    <main className=\"highscores\">\r\n      <HomeButton />\r\n      <h2>Highscores</h2>\r\n      {scores.map((score) => {\r\n        return <p key={uuidv4()}>{score}</p>;\r\n      })}\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Highscores;\r\n","import { SignIn, SignOut } from \"../Firebase/Auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../Button/Button\";\r\nimport \"./Menu.css\";\r\nimport { getFirebaseAuthUser } from \"../Firebase/context\";\r\n\r\nconst Menu = () => {\r\n  const user = getFirebaseAuthUser();\r\n  return (\r\n    <section className=\"menu\">\r\n      {user ? <SignOut /> : <SignIn />}\r\n      <Link to=\"/game\" className=\"link\">\r\n        <Button>Game</Button>\r\n      </Link>\r\n      {user && (\r\n        <Link to=\"/highscores\" className=\"link\">\r\n          <Button>Highscores</Button>\r\n        </Link>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import { useState } from \"react\";\r\nimport \"./App.css\";\r\nimport Header from \"./components/Header/Header.js\";\r\nimport Game from \"./components/Game/Game.js\";\r\nimport Modal from \"./components/Modal/Modal.js\";\r\nimport { AnimatePresence } from \"framer-motion\";\r\nimport { Navigate, Route, Routes } from \"react-router-dom\";\r\nimport Highscores from \"./components/Highscores/Highscores\";\r\nimport Menu from \"./components/Menu/Menu\";\r\nimport FadeInWrapper from \"./components/FadeInWrapper\";\r\nimport { getFirebaseAuthUser } from \"./components/Firebase/context\";\r\n\r\nconst App = () => {\r\n  document.title = \"Quiz | pszocik.github.io\";\r\n  const user = getFirebaseAuthUser();\r\n  const [showLoseModal, setShowLoseModal] = useState(false);\r\n  const [showWinModal, setShowWinModal] = useState(false);\r\n\r\n  const handleWinModalClose = () => setShowWinModal(false);\r\n  const handleLoseModalClose = () => setShowLoseModal(false);\r\n  const handleWinModalShow = () => setShowWinModal(true);\r\n  const handleLoseModalShow = () => setShowLoseModal(true);\r\n\r\n  return (\r\n    <main className=\"App\">\r\n      <Header />\r\n      <Routes>\r\n        <Route\r\n          exact\r\n          path=\"/\"\r\n          element={\r\n            <FadeInWrapper>\r\n              <Menu />\r\n            </FadeInWrapper>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/game\"\r\n          element={\r\n            <FadeInWrapper>\r\n              <Game\r\n                handleWinModalShow={handleWinModalShow}\r\n                handleLoseModalShow={handleLoseModalShow}\r\n              />\r\n            </FadeInWrapper>\r\n          }\r\n        />\r\n        <Route\r\n          path=\"Highscores\"\r\n          element={\r\n            <FadeInWrapper>\r\n              {user ? <Highscores /> : <Navigate to=\"/\" />}\r\n            </FadeInWrapper>\r\n          }\r\n        />\r\n      </Routes>\r\n      <AnimatePresence initial={false} exitBeforeEnter={true}>\r\n        {showLoseModal && (\r\n          <Modal handleClose={handleLoseModalClose} text={\"You lost!\"} />\r\n        )}\r\n        {showWinModal && (\r\n          <Modal\r\n            handleClose={handleWinModalClose}\r\n            text={\"Congratulations! You won!\"}\r\n          />\r\n        )}\r\n      </AnimatePresence>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { FirebaseAuthProvider } from \"./components/Firebase/context\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <FirebaseAuthProvider>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n      ,\r\n    </FirebaseAuthProvider>\r\n    ,\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}